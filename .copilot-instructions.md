# Copilot Working Instructions

## Version Management - CRITICAL RULE

**After EVERY code change, increment the build number:**

Format: `major.minor.patch.build`

**Examples:**
- 1.0.0.0 → 1.0.0.1 (first change)
- 1.0.0.1 → 1.0.0.2 (second change)
- 1.0.0.2 → 1.0.0.3 (third change)

**Version location:** [Specify where - package.json, VERSION file, constants.js, etc.]

**Process:**
1. Make requested code change
2. Increment build number (+1)
3. Update version in all files where it appears
4. Confirm new version in response

## Core Working Principles

### Before Making Changes
- Review existing code patterns in the project
- Identify similar implementations to match style
- Ask clarifying questions if requirements are ambiguous
- Propose a plan before implementing complex changes

### For Every Code Change
- Make surgical, targeted edits
- Preserve existing patterns and conventions
- Update inline comments where logic changes
- Run applicable tests after changes
- **Always increment version number**

### Code Quality Standards
- DRY (Don't Repeat Yourself) - consolidate duplicate code
- Remove dead code and unused imports
- Simplify complex conditionals and nested logic
- Extract magic numbers/strings to named constants
- Use descriptive variable and function names
- Keep functions focused on single responsibilities

## Sub-Agent Specializations

### Code Cleaner Agent
**Trigger:** When I say "clean" + file/directory name

**Actions:**
- Remove commented-out code
- Delete unused variables, imports, and functions
- Eliminate console.logs and debugging statements
- Fix inconsistent formatting and indentation
- Standardize naming conventions
- Remove trailing whitespace

### Code Optimizer Agent
**Trigger:** When I say "optimize" + file/directory name

**Actions:**
- Identify and eliminate redundant operations
- Replace verbose code with concise equivalents
- Consolidate duplicate logic into reusable functions
- Simplify complex expressions while maintaining readability
- Suggest performance improvements
- Use language-specific idioms and best practices

### Refactoring Agent
**Trigger:** When I say "refactor" + code description

**Actions:**
- Extract repeated code into helper functions
- Break large functions into smaller, testable units
- Improve code organization and structure
- Suggest better design patterns where applicable
- Reduce coupling between components
- Improve error handling and edge cases

### Test Coverage Agent
**Trigger:** When I say "test" + code reference

**Actions:**
- Identify untested code paths
- Generate unit tests for new functions
- Update existing tests when code changes
- Test edge cases and error conditions
- Ensure tests follow project testing patterns

### Documentation Agent
**Trigger:** When I say "doc" + code reference

**Actions:**
- Add/update JSDoc or equivalent documentation
- Clarify complex logic with inline comments
- Document function parameters and return values
- Explain non-obvious implementation decisions

## Response Format

Structure all code change responses as:
```
**Changes Made:**
- [Specific change 1]
- [Specific change 2]

**Files Modified:**
- path/to/file.js (lines X-Y)

**Version Updated:** 1.0.0.X → 1.0.0.Y

**Testing Recommendations:**
- [What to test]

**Next Steps (if applicable):**
- [Additional work needed]
```

## Decision-Making Guidelines

### When I'm Unclear, Ask:
- "Should I prioritize readability or brevity here?"
- "Do you want me to refactor existing code or just add new functionality?"
- "Should I include tests with this change?"

### When You're Uncertain:
- Propose 2-3 approaches with pros/cons
- Explain tradeoffs clearly
- Wait for my decision before implementing

### Never Do Without Permission:
- Major refactoring of working code
- Changing project structure
- Adding new dependencies
- Removing functionality
- Modifying build configurations

## Quick Commands Reference

- **"clean [file]"** = Run Code Cleaner Agent
- **"optimize [file]"** = Run Code Optimizer Agent
- **"refactor [code]"** = Run Refactoring Agent
- **"test [code]"** = Run Test Coverage Agent
- **"doc [code]"** = Run Documentation Agent
- **"plan [feature]"** = Create implementation plan before coding
- **"version check"** = Report current version number

## Project-Specific Context

[Add project-specific details here, such as:]

### Technology Stack
- Framework: [e.g., React, Vue, vanilla JS]
- Language: [e.g., JavaScript, TypeScript, Python]
- Testing: [e.g., Jest, Mocha, pytest]
- Build tools: [e.g., Webpack, Vite, npm scripts]

### File Organization
```
project-root/
├── src/           [source code]
├── tests/         [test files]
├── docs/          [documentation]
└── config/        [configuration]
```

### Coding Conventions
- [Naming conventions]
- [Import order preferences]
- [Comment style]
- [Error handling patterns]

### Common Patterns Used
- [Authentication approach]
- [State management]
- [API interaction patterns]
- [Component structure]
```

---

## How to Use This

### Initial Setup (One Time)

1. **Create the file** at project root: `.copilot-instructions.md`
2. **Fill in project-specific sections** (Technology Stack, File Organization, etc.)
3. **Commit to repository** so all team members benefit

### Every Copilot Chat Session

**Start each session with:**
```
Read @.copilot-instructions.md and confirm:
1. Current version number
2. Version file location
3. Ready to follow all instructions